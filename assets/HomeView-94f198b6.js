import{Y as m,Z as g,a0 as y,a1 as n,a3 as d,a4 as a,c as t,V,ag as h,ab as c,af as u,ah as C,ai as k,aj as f,ak as x,K as S,al as b,ae as B,x as w,am as v,a2 as P,a7 as N,a6 as R,an as L,ao as T}from"./index-73f4d130.js";import{V as A}from"./VContainer-35f5e170.js";import{V as p,a as $}from"./VRow-a742858f.js";const j={__name:"ProductCard",props:{_id:{type:String,default:()=>""},category:{type:String,default:()=>""},description:{type:String,default:()=>""},image:{type:String,default:()=>""},name:{type:String,default:()=>""},price:{type:Number,default:()=>0},sell:{type:Boolean,default:()=>!0}},setup(e){const l=e,o=m(),s=g(),i=async()=>{try{const{data:r}=await B.post("/users/cart",{product:l._id,quantity:1});s.cart=r.result}catch(r){o({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(r,z)=>{const _=y("RouterLink");return n(),d(b,null,{default:a(()=>[t(V,{src:e.image,cover:"",height:"200"},null,8,["src"]),t(h,null,{default:a(()=>[t(_,{to:"/products/"+e._id,class:"text-primary text-decoration-none"},{default:a(()=>[c(u(e.name),1)]),_:1},8,["to"])]),_:1}),t(C,null,{default:a(()=>[c("$"+u(e.price),1)]),_:1}),t(k,null,{default:a(()=>[f("pre",null,u(e.description),1)]),_:1}),t(x,null,{default:a(()=>[t(S,{color:"primary","prepend-icon":"mdi-cart",onClick:i},{default:a(()=>[c("加入購物車")]),_:1})]),_:1})]),_:1})}}},q=f("h1",null,"購物網",-1),H={__name:"HomeView",setup(e){const l=m(),o=w([]);return(async()=>{try{const{data:s}=await v.get("/products");o.value.push(...s.result)}catch(s){l({text:s.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(s,i)=>(n(),d(A,null,{default:a(()=>[t($,null,{default:a(()=>[t(p,{cols:"12"},{default:a(()=>[q]),_:1}),(n(!0),P(R,null,N(o.value,r=>(n(),d(p,{cols:"12",md:"6",lg:"3",key:r._id},{default:a(()=>[t(j,L(T(r)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{H as default};
